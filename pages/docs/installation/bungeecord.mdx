import {Callout, Steps} from "nextra-theme-docs";

# Installation on BungeeCord

## Requirements

To be able to use SkinsRestorer on your server, little is needed:

<Callout emoji="📔">
    Most Minecraft server hosting companies have all of this.
</Callout>

* Java from at least version 8
* Internet connection through ports 80 (http) & 443 (https) & 53 (dns) (
issues? > [troubleshoot connection](https://github.com/SkinsRestorer/SkinsRestorerX/wiki/Troubleshoot#connection))
* Minecraft server versions and variants that we
support [[check overview](https://github.com/SkinsRestorer/SkinsRestorerX/blob/master/README.md)]

## Basic Installation

In this section, you can read how to set up our plugin SkinsRestorer your for Minecraft Server/Network!
Select your server type below to get started.

<Callout type="info" emoji="ℹ️">
    The plugin only works properly when you also install it on your backend (Spigot/Sponge) servers!
</Callout>

<Steps>
    ### Download the plugin
    Download the latest version from [SpigotMC](https://www.spigotmc.org/resources/skinsrestorer.2124/)

    ### Put it in the BungeeCord folder
    Place the `SkinsRestorer.jar` in the ./plugins/ folder of every **BungeeCord** server.

    ### Put it into every Spigot folder
    Place the `SkinsRestorer.jar` in the ./plugins/ folders of **every Spigot** server.

    ### Prepare your backend servers
    Make sure you have the same `config.yml` file on every server. (You can use the same file on every server)
    Also check & set on **every backend** server (Spigot/Paper) `spigot.yml` -> `bungeecord: true`

    ### Set up your BungeeCord
    (OPTIONAL) Set in __bungee__ -> config.yml -> `ip_forward: true`

    ### Restart your servers
    Restart (`/restart` or `/stop`) all servers [Plugman or /reload are NOT supported, use /stop or /end]

    ### Configure the plugin
    You may now [configure SkinsRestorer](/setup/configuration#config-guide) on the BungeeCord server.

    ### That's it!
    Our plugin should now work on your network!
</Steps>

## Advanced Installation

### Securing BungeeCord Networks

#### What happened?

Because the plugin is open source and a lot of BungeeCord network owners aren't blocking off ports using firewall, we see
hack client makers abusing a vulnerability caused by not securing BungeeCord networks.

This security issue comes from the channel we use between BungeeCord and Spigot for opening the GUI menu, getting selected
actions back to BungeeCord, and also sending skin data to bukkit to use for instaskinchange (so users don't need to rejoin)

#### How should I secure my self?

You should secure your backend servers by only allowing BungeeCord to connect to it over the server port. This can be done
by using iptables on both BungeeCord and Spigot, or other measurements that block off non-whitelisted connections over the
port server ports. We advise you to host both BungeeCord & Spigot by your self and not use Minecraft server hosting where
you can't secure your ports, or change firewall settings.

We will create a step-by-step guide soon to educate BungeeCord network owners and how to secure themselves for network-related exploits.

#### What if I can't secure myself?

If you can't secure yourself, we advise you not to put the jar on the Spigot side. This will mitigate the risk at the
cost of SkinsGUI and instaskinchange (you would need to rejoin or change server)
